# Windows Interop

In the past, various DirectX interop projects like SlimDX and SharpDX existed, but those projects have since been abandoned. There are newer attempts at generating DirectX bindings, but those attempts use SharpGen, which I found difficult to use and difficult to understand. Upon discovering the [DirectX discord](https://discord.gg/N2mtwy), I met Tanner Gooding, an employee for Microsoft who is working on a project he calls [TerraFX](https://github.com/terrafx). Several of the TerraFX libraries used by the engine contain bindings for numerous Windows header files and are auto-generated by [ClangSharp](https://github.com/Microsoft/ClangSharp). Combined with Tanner's efforts manually migrating innumerable C `#define`s and other esoteric header contents, `terrafx.interop` libraries provides the perfect basis for a DirectX wrapper: low-level, precise, auto-generated mappings that rely on pointers instead of slower marshalling.

C# 9 may include a couple of key features that will make `terrafx.interop` bindings perform even better: compiler intrinsics and function pointers (see [this](https://github.com/dotnet/csharplang/issues/191) GitHub issue). SharpGen bindings already generate IL with these instructions so technically they may perform better than `terrafx.interop`, but I view this as only temporary. I believe it's better to build a wrapper on the rawest bindings possible--bindings that avoid marshalling where possible.
